# based on https://campus.datacamp.com/courses/basic-statistics/lab-0-the-basics-of-r?ex=1

############################## 1 - The basics of R #####################
#
##### ##### ##### -------- Arithmetics
#
# Addition
5 + 5 
# Subtraction
5 - 5 
# Multiplication
3 * 5
 # Division
(5 + 5) / 2 
# Exponentiation
2^5
# Modulo
28 %% 6

##### ##### ##### -------- Variables
## Data Types: 
x <- 42 #integer
z <- 3.2 #numeric
my_logical <- FALSE #logical
w <- "forty_two" #characters

ls() #shows the variables defined at workspace
class(x) #checking the variable x Data type
is.numeric(x)
y <- as.numeric(x) #enforce data to change type

##### ##### ##### -------- Data Structures
# Vector  -  one-dimension arrays that can hold numeric data, character data, or logical data.
# Matrix  -  collection of elements of the same data type (numeric, character, or logical) arranged into a fixed number of rows and columns. 
# Factors -  statistical data type used to store categorical variables
# DataFrame - A data frame has the variables of a data set as columns and the observations as rows.
# List - gather a variety of objects under one name 

##### ##### ##### -------- Vectors
# Creating a vector
numeric_vector <- c(1, 10, 49)   
character_vector <- c("a", "b", "c")
boolean_vector <- c(TRUE, FALSE, TRUE)
my_vector <- 1:10 # Vector with numerics from 1 up to 10
# Selecting from a vector
character_vector[c(1)]
boolean_vector[c(2,3)]
larger_than_ten <- numeric_vector > 10 
# Selecting only the values larger than 10
numeric_vector[larger_than_ten] 

##### ##### ##### -------- Matrix
# Creating a matrix
m <- matrix(1:20, byrow = TRUE, nrow = 5, ncol = 4)
my_matrix <- matrix(1:9, ncol = 3) # Matrix with numerics from 1 up to 9

##### ##### ##### -------- Factor
student_status <- c("student", "not student", "student", "not student")
# turn student_status vector into a factor and save it in the variable categorical_student
categorical_student <- factor(student_status)
categorical_student

##### ##### ##### -------- DataFrames

# Contracting a dataFrame
my.dataframe <- data.frame(c1, c2, ...)
my_df <- mtcars[1:10,] # First 10 elements of the built-in data frame 'mtcars'

# Fuctions to inspect a dataframe
head (dataf) # prints the 6 first rows
tail (dataf) # prints the 6 last rows
str (dataf) # prints the structure of the dataframe
dim (dataf) # prints the dimensions
colnames (dataf) # prints the names of the columns

# selecting values 
planet_df
planet_df[1,c(2,3)]
planet_df$diameter

##### ##### ##### -------- Lists 
my_list <- list(my_vector, my_matrix, my_df)
my_list[2]
my_list[[3]][,1]



############################## 2 - More introduction to R #####################
# asking for help
?mean
help(mean)
args(mean) # ask for the arguments used by the mean function

##### ##### ##### -------- Functions
grades <- c(8.5, 7, 9, 5.5, 6)
mean (x = grades) # calculate the mean of grades using matching by name
mean(grades)      # calculate the mean of grades using matching by position
grades <- c(8.5, 7, 9, NA, 6)
mean(grades, na.rm = TRUE)

# make a function 
multiply_a_b <- function (a,b){
  return (a*b)
}
# call the function
result <- multiply_a_b(3,7)


# load in the data from a file
data_file <- file("http://s3.amazonaws.com/assets.datacamp.com/course/uva/mtcars.csv")
cars <- read.csv(data_file)
cars <- read.csv(data_file,sep=";")
# Functions to read in data from different formats: 
#read.table: Reads in tabular data such as txt files
#read.csv: Read in data from a comma-separated file format
#readWorksheetFromFile : Reads in an excel worksheet
#read.spss: Reads in data from .sav SPSS format.

getwd() # retrieve the current working directory
setwd() # set the current working directory
list.files() # list all the files in the working directory
library(ggplot2) # load the ggplot2 package using the library function (importing R packages)




############################## 3 - Exploring Data #####################



















